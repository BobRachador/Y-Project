{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\richard.5935\\\\Downloads\\\\Yzon\\\\Telas\\\\HomeScreen.js\",\n  _this = this;\nimport React, { useEffect, useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport { auth } from '../firebase/config';\nimport { onAuthStateChanged, signOut } from 'firebase/auth';\nimport { useNavigation } from '@react-navigation/native';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar HomeScreen = function HomeScreen() {\n  var navigation = useNavigation();\n  var _useState = useState(true),\n    _useState2 = _slicedToArray(_useState, 2),\n    loading = _useState2[0],\n    setLoading = _useState2[1];\n  var _useState3 = useState(null),\n    _useState4 = _slicedToArray(_useState3, 2),\n    user = _useState4[0],\n    setUser = _useState4[1];\n  useEffect(function () {\n    var unsubscribe = onAuthStateChanged(auth, function (user) {\n      setUser(user);\n      setLoading(false);\n    });\n    return function () {\n      return unsubscribe();\n    };\n  }, []);\n  if (loading) {\n    return _jsxDEV(Text, {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 12\n    }, _this);\n  }\n  if (!user) {\n    navigation.navigate('Login');\n    return null;\n  } else if (user) {\n    navigation.navigate('Perfil');\n  }\n  return _jsxDEV(View, {\n    style: {\n      flex: 1,\n      justifyContent: 'center',\n      alignItems: 'center'\n    },\n    children: [_jsxDEV(Text, {\n      children: [\"Bem-vindo, \", user.email]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }, _this), _jsxDEV(Button, {\n      title: \"Sair\",\n      onPress: function onPress() {\n        return signOut(auth);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }, _this), \" \", _jsxDEV(TouchableOpacity, {\n      onPress: function onPress() {\n        return navigation.navigate('Register');\n      },\n      children: _jsxDEV(Text, {\n        style: {\n          color: 'blue',\n          marginTop: 20\n        },\n        children: \"N\\xE3o tem uma conta? Cadastre-se\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 9\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 5\n  }, _this);\n};\nexport default HomeScreen;","map":{"version":3,"names":["React","useEffect","useState","View","Text","Button","TouchableOpacity","auth","onAuthStateChanged","signOut","useNavigation","jsxDEV","_jsxDEV","HomeScreen","navigation","_useState","_useState2","_slicedToArray","loading","setLoading","_useState3","_useState4","user","setUser","unsubscribe","children","fileName","_jsxFileName","lineNumber","columnNumber","_this","navigate","style","flex","justifyContent","alignItems","email","title","onPress","color","marginTop"],"sources":["C:/Users/richard.5935/Downloads/Yzon/Telas/HomeScreen.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { View, Text, Button, TouchableOpacity } from 'react-native';\r\nimport { auth } from '../firebase/config'; // Ajuste para importar o auth\r\nimport { onAuthStateChanged, signOut } from 'firebase/auth'; // Importar funções necessárias\r\nimport { useNavigation } from '@react-navigation/native';\r\n\r\nconst HomeScreen = () => {\r\n  const navigation = useNavigation();\r\n  const [loading, setLoading] = useState(true);\r\n  const [user, setUser] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const unsubscribe = onAuthStateChanged(auth, (user) => { // Use onAuthStateChanged do auth\r\n      setUser(user);\r\n      setLoading(false);\r\n    });\r\n\r\n    return () => unsubscribe();\r\n  }, []);\r\n\r\n  if (loading) {\r\n    return <Text>Loading...</Text>;\r\n  }\r\n\r\n  if (!user) {\r\n    navigation.navigate('Login'); // Redireciona para a tela de login\r\n    return null; // Previne renderização da tela se o usuário não estiver logado\r\n  }else if(user){\r\n    navigation.navigate('Perfil'); \r\n  }\r\n\r\n  return (\r\n    <View style={{ flex: 1, justifyContent: 'center', alignItems: 'center' }}>\r\n      <Text>Bem-vindo, {user.email}</Text>\r\n      <Button title=\"Sair\" onPress={() => signOut(auth)} /> {/* Usando signOut do auth */}\r\n      <TouchableOpacity onPress={() => navigation.navigate('Register')}>\r\n        <Text style={{ color: 'blue', marginTop: 20 }}>Não tem uma conta? Cadastre-se</Text>\r\n      </TouchableOpacity>\r\n    </View>\r\n  );\r\n};\r\n\r\nexport default HomeScreen;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}