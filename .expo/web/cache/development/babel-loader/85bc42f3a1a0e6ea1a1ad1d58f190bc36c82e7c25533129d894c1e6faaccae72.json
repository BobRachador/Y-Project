{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\umami\\\\Downloads\\\\Y 1.0.8\\\\Telas\\\\Pesquisa.js\";\nimport React, { useState, useEffect } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport { collection, query, where, getDocs } from 'firebase/firestore';\nimport { firestore } from '../firebase/config';\nimport { useNavigation } from '@react-navigation/native';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SearchUsers = () => {\n  const [searchText, setSearchText] = useState('');\n  const [users, setUsers] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const navigation = useNavigation();\n  useEffect(() => {\n    const handleSearch = async () => {\n      if (searchText.trim() === '') {\n        setUsers([]);\n        return;\n      }\n      setLoading(true);\n      try {\n        const userQuery = query(collection(firestore, 'users'), where('nome', '>=', searchText), where('nome', '<=', searchText + '\\uf8ff'));\n        const usernameQuery = query(collection(firestore, 'users'), where('username', '>=', searchText), where('username', '<=', searchText + '\\uf8ff'));\n        const [nameSnapshot, usernameSnapshot] = await Promise.all([getDocs(userQuery), getDocs(usernameQuery)]);\n        const allResults = [...nameSnapshot.docs, ...usernameSnapshot.docs];\n        const uniqueUsers = Array.from(new Set(allResults.map(doc => doc.id))).map(id => {\n          return allResults.find(doc => doc.id === id).data();\n        });\n        setUsers(uniqueUsers);\n      } catch (error) {\n        console.error('Erro ao buscar usuários: ', error);\n        alert('Erro ao buscar usuários.');\n      } finally {\n        setLoading(false);\n      }\n    };\n    handleSearch();\n  }, [searchText]);\n  return _jsxDEV(View, {\n    style: styles.container,\n    children: [_jsxDEV(Text, {\n      style: styles.title,\n      children: \"Buscar Usu\\xE1rios\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), _jsxDEV(TextInput, {\n      style: styles.input,\n      placeholder: \"Digite o nome do usuario\",\n      value: searchText,\n      onChangeText: setSearchText,\n      placeholderTextColor: \"#999\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this), loading ? _jsxDEV(Text, {\n      children: \"Carregando...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }, this) : _jsxDEV(FlatList, {\n      data: users,\n      keyExtractor: item => item.uid,\n      renderItem: ({\n        item\n      }) => _jsxDEV(TouchableOpacity, {\n        onPress: () => navigation.navigate('Usuario', {\n          usuarioId: item.id\n        }),\n        style: styles.userItem,\n        children: [_jsxDEV(Image, {\n          source: {\n            uri: item.perfil ? item.perfil : 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQkMMAxb6dOJG5OxyqQi0Oas3lh4RTgDhq8pg&s'\n          },\n          style: {\n            width: 40,\n            height: 40,\n            borderRadius: 25,\n            marginRight: 10,\n            margin: 5\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 15\n        }, this), _jsxDEV(View, {\n          children: [_jsxDEV(Text, {\n            style: styles.userName,\n            children: item.nome\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 17\n          }, this), _jsxDEV(Text, {\n            style: styles.userUsername,\n            children: [\"@\", item.username]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 5\n  }, this);\n};\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    padding: 20,\n    backgroundColor: '#fff'\n  },\n  title: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    marginBottom: 20\n  },\n  input: {\n    borderWidth: 1,\n    borderColor: '#ccc',\n    borderRadius: 10,\n    padding: 10,\n    marginBottom: 20,\n    backgroundColor: '#f9f9f9'\n  },\n  userItem: {\n    borderBottomWidth: 1,\n    borderBottomColor: '#ccc',\n    paddingVertical: 10,\n    flexDirection: 'row',\n    alignItems: 'center'\n  },\n  userName: {\n    fontSize: 18\n  },\n  userUsername: {\n    fontSize: 16,\n    color: '#555'\n  }\n});\nexport default SearchUsers;","map":{"version":3,"names":["React","useState","useEffect","View","Text","TextInput","FlatList","TouchableOpacity","StyleSheet","Image","collection","query","where","getDocs","firestore","useNavigation","jsxDEV","_jsxDEV","SearchUsers","searchText","setSearchText","users","setUsers","loading","setLoading","navigation","handleSearch","trim","userQuery","usernameQuery","nameSnapshot","usernameSnapshot","Promise","all","allResults","docs","uniqueUsers","Array","from","Set","map","doc","id","find","data","error","console","alert","style","styles","container","children","title","fileName","_jsxFileName","lineNumber","columnNumber","input","placeholder","value","onChangeText","placeholderTextColor","keyExtractor","item","uid","renderItem","onPress","navigate","usuarioId","userItem","source","uri","perfil","width","height","borderRadius","marginRight","margin","userName","nome","userUsername","username","create","flex","padding","backgroundColor","fontSize","fontWeight","marginBottom","borderWidth","borderColor","borderBottomWidth","borderBottomColor","paddingVertical","flexDirection","alignItems","color"],"sources":["C:/Users/umami/Downloads/Y 1.0.8/Telas/Pesquisa.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { View, Text, TextInput, FlatList, TouchableOpacity, StyleSheet, Image } from 'react-native';\nimport { collection, query, where, getDocs } from 'firebase/firestore';\nimport { firestore } from '../firebase/config';\nimport { useNavigation } from '@react-navigation/native'; // Importe para navegação\n\nconst SearchUsers = () => {\n  const [searchText, setSearchText] = useState('');\n  const [users, setUsers] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const navigation = useNavigation(); // Para navegação\n\n  useEffect(() => {\n    const handleSearch = async () => {\n      if (searchText.trim() === '') {\n        setUsers([]);\n        return;\n      }\n\n      setLoading(true);\n\n      try {\n        const userQuery = query(\n          collection(firestore, 'users'),\n          where('nome', '>=', searchText),\n          where('nome', '<=', searchText + '\\uf8ff')\n        );\n\n        const usernameQuery = query(\n          collection(firestore, 'users'),\n          where('username', '>=', searchText),\n          where('username', '<=', searchText + '\\uf8ff')\n        );\n\n        const [nameSnapshot, usernameSnapshot] = await Promise.all([\n          getDocs(userQuery),\n          getDocs(usernameQuery),\n        ]);\n\n        const allResults = [...nameSnapshot.docs, ...usernameSnapshot.docs];\n        const uniqueUsers = Array.from(\n          new Set(allResults.map((doc) => doc.id))\n        ).map((id) => {\n          return allResults.find((doc) => doc.id === id).data();\n        });\n\n        setUsers(uniqueUsers);\n      } catch (error) {\n        console.error('Erro ao buscar usuários: ', error);\n        alert('Erro ao buscar usuários.');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    handleSearch();\n  }, [searchText]);\n\n  return (\n    <View style={styles.container}>\n      <Text style={styles.title}>Buscar Usuários</Text>\n\n      <TextInput\n        style={styles.input}\n        placeholder=\"Digite o nome do usuario\"\n        value={searchText}\n        onChangeText={setSearchText}\n        placeholderTextColor=\"#999\"\n      />\n\n      {loading ? (\n        <Text>Carregando...</Text>\n      ) : (\n        <FlatList\n          data={users}\n          keyExtractor={(item) => item.uid}\n          renderItem={({ item }) => (\n            <TouchableOpacity\n              onPress={() => navigation.navigate('Usuario', { usuarioId: item.id })} // Navegação com parâmetros\n              style={styles.userItem}\n            >\n              <Image\n                source={{ uri: item.perfil ? item.perfil : 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQkMMAxb6dOJG5OxyqQi0Oas3lh4RTgDhq8pg&s' }}\n                style={{ width: 40, height: 40, borderRadius: 25, marginRight: 10, margin: 5 }}\n              />\n              <View>\n                <Text style={styles.userName}>{item.nome}</Text>\n                <Text style={styles.userUsername}>@{item.username}</Text>\n              </View>\n            </TouchableOpacity>\n          )}\n        />\n      )}\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    padding: 20,\n    backgroundColor: '#fff',\n  },\n  title: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    marginBottom: 20,\n  },\n  input: {\n    borderWidth: 1,\n    borderColor: '#ccc',\n    borderRadius: 10,\n    padding: 10,\n    marginBottom: 20,\n    backgroundColor: '#f9f9f9',\n  },\n  userItem: {\n    borderBottomWidth: 1,\n    borderBottomColor: '#ccc',\n    paddingVertical: 10,\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  userName: {\n    fontSize: 18,\n  },\n  userUsername: {\n    fontSize: 16,\n    color: '#555',\n  },\n});\n\nexport default SearchUsers;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}